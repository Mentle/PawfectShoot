<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pawfect Room - Simplified</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="tamagotchi_style.css">
    <!-- Import Three.js -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.163.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.163.0/examples/jsm/",
                "@tweenjs/tween.js": "https://unpkg.com/@tweenjs/tween.js@23.1.1/dist/tween.esm.js" 
            }
        }
    </script>
</head>
<body>
    <div id="container">
        <!-- Add arrow buttons -->
        <div id="arrow-left" class="arrow">&lt;</div>
        <div id="arrow-right" class="arrow">&gt;</div>
        <!-- Canvas will be added here by main.js -->
    </div>
    <script type="module" src="main.js"></script>
    <script type="module" src="tamagotchi_game.js"></script>

    <!-- Updated Popup for Tamagotchi Game -->
    <div id="tamagotchi-container"> 
        <span class="popup-close-tamagotchi">&times;</span> 
        <div class="tamagotchi-content">
            <!-- Screen 1: Animal Selection -->
            <div id="animal-selection-screen" class="screen">
                <h2>Pick your animal:</h2>
                <div class="animal-options">
                    <button class="animal-btn" data-animal="dog"><img src="tamagotchi/dog.png" alt="Dog">Dog</button>
                    <button class="animal-btn" data-animal="cat"><img src="tamagotchi/cat.png" alt="Cat">Cat</button>
                    <button class="animal-btn" data-animal="rabbit"><img src="tamagotchi/rabbit.png" alt="Rabbit">Rabbit</button>
                    <button class="animal-btn" data-animal="bird"><img src="tamagotchi/bird.png" alt="Bird">Bird</button>
                </div>
            </div>

            <!-- Screen 2: Size Selection -->
            <div id="size-selection-screen" class="tamagotchi-screen" style="display:none;">
                <h2>Choose Size for Your <span id="chosen-animal-name-size-screen">Pet</span>:</h2>
                <div class="size-options-visual">
                    <div class="size-option" data-size="small">
                        <img src="" alt="Small Pet" id="size-img-small">
                        <p>Small</p>
                    </div>
                    <div class="size-option" data-size="medium">
                        <img src="" alt="Medium Pet" id="size-img-medium">
                        <p>Medium</p>
                    </div>
                    <div class="size-option" data-size="large">
                        <img src="" alt="Large Pet" id="size-img-large">
                        <p>Large</p>
                    </div>
                </div>
                <div class="navigation-buttons">
                    <button id="back-to-animal-selection-btn" class="tamagotchi-btn">Back</button>
                    <button id="confirm-size-btn" class="tamagotchi-btn">Next</button>
                </div>
            </div>

            <!-- Screen 3: Name Input -->
            <div id="name-input-screen" class="screen">
                <div class="name-input-content-area">
                    <h2>Give your animal a name:</h2>
                    <input type="text" id="animal-name-input" placeholder="Enter name">
                </div>
                <div class="navigation-buttons">
                    <button class="back-btn tamagotchi-btn" data-target-screen="size-selection-screen">Back</button> 
                    <button id="submit-name-btn" class="tamagotchi-btn">Next</button>
                </div>
            </div>

            <!-- Screen 4: Tamagotchi Main Scene -->
            <div id="tamagotchi-main-screen" class="screen">
                <h2 id="pet-name-display">[Pet Name]</h2>
                <div id="pet-area">
                    <img id="pet-image" src="" alt="Your Pet">
                    <span id="pet-feedback-icon" class="feedback-icon"></span> <!-- For heart, food bowl etc. -->
                </div>
                
                <div class="actions-container">
                    <div class="interaction-buttons">
                        <button id="feed-pet-btn" class="interaction-btn tamagotchi-btn"><img src="tamagotchi/icons/feed.png" alt="Feed Icon"> Feed</button>
                        <button id="play-pet-btn" class="interaction-btn tamagotchi-btn"><img src="tamagotchi/icons/play.png" alt="Play Icon"> Play</button>
                        <button id="care-pet-btn" class="interaction-btn tamagotchi-btn"><img src="tamagotchi/icons/care.png" alt="Care Icon"> Pet</button>
                    </div>
                    <div class="navigation-buttons main-screen-nav">
                        <button id="restart-tamagotchi-btn" class="tamagotchi-btn">Restart</button>
                        <button id="book-session-btn" class="tamagotchi-btn">Book Session</button>
                    </div>
                </div>
            </div>

            <!-- Screen 5: Booking Options -->
            <div id="booking-options-screen" class="screen">
                <h2>Choose Your Pawfect Package:</h2>
                <div class="booking-package">
                    <h3>PAWSIC</h3>
                    <ul>
                        <li>Consulta Previa Personalizada</li>
                        <li>40 minutos de Sesión fotográfica</li>
                        <li>Galería en línea para escoger tus fotos favoritas</li>
                        <li>4 fotografías digitales editadas</li>
                    </ul>
                    <p class="price">150 EUR</p>
                    <button class="select-package-btn tamagotchi-btn" data-package="PAWSIC">Select PAWSIC</button>
                </div>
                <div class="booking-package">
                    <h3>PAWFECT</h3>
                    <ul>
                        <li>Consulta previa personalizada</li>
                        <li>1 hora de sesión fotográfica</li>
                        <li>Galería en línea</li>
                        <li>8 fotografías</li>
                    </ul>
                    <p class="price">250 EUR</p>
                    <button class="select-package-btn tamagotchi-btn" data-package="PAWFECT">Select PAWFECT</button>
                </div>
                <div class="navigation-buttons booking-nav">
                    <button class="back-btn tamagotchi-btn" data-target-screen="tamagotchi-main-screen">Back</button>
                </div>
            </div>

            <!-- Screen 5.5: Booking Summary -->
            <div id="booking-summary-screen" class="screen" style="display:none;">
                <h2>Confirm Your Booking Details:</h2>
                <div class="summary-details">
                    <p><strong>Pet's Name:</strong> <span id="summary-pet-name"></span></p>
                    <p><strong>Pet Type:</strong> <span id="summary-pet-type"></span></p>
                    <p><strong>Pet Size:</strong> <span id="summary-pet-size"></span></p>
                    <p><strong>Selected Package:</strong> <span id="summary-package-name"></span></p>
                    <div id="summary-package-details"></div> <!-- For <ul> list -->
                    <p><strong>Price:</strong> <span id="summary-package-price"></span></p>
                </div>
                <div class="contact-options-buttons">
                    <button id="contact-email-btn" class="tamagotchi-btn contact-btn">Contact via Email</button>
                    <button id="contact-whatsapp-btn" class="tamagotchi-btn contact-btn">Contact via WhatsApp</button>
                </div>
                <div class="navigation-buttons">
                    <button class="back-btn tamagotchi-btn" data-target-screen="booking-options-screen">Back to Packages</button>
                </div>
            </div>

            <!-- Screen 6: Mini-Game (Dino Clone) -->
            <div id="mini-game-screen" class="screen" style="display:none;">
                <canvas id="mini-game-canvas"></canvas>
                <!-- Navigation buttons removed -->
            </div>

        </div>
    </div>
<div id="whiteboard-popup" style="display: none; /* Initially hidden */">
    <div class="whiteboard-container">
        <canvas id="whiteboard-canvas" width="600" height="400"></canvas>
        <div id="whiteboard-controls">
            <button class="wb-color-btn" data-color="black" style="background-color: black;"></button>
            <button class="wb-color-btn" data-color="red" style="background-color: #e74c3c;"></button>
            <button class="wb-color-btn" data-color="green" style="background-color: #2ecc71;"></button>
            <button class="wb-color-btn" data-color="blue" style="background-color: #3498db;"></button>
            <button id="whiteboard-clear">Clear</button>
        </div>
        <button id="whiteboard-save-close">Save & Close</button>
    </div>
</div>
</body>
</html>
